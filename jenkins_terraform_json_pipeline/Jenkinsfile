pipeline {
    agent any

    stages {
        stage('Read JSON') {
            steps {
                script {
                    // ❌ Don't do this:
                    // def parser = new JsonSlurper()
                    // def json = parser.parseText(...)

                    // ✅ Do this:
                    def json = new groovy.json.JsonSlurper().parseText(readFile('config.json'))

                    def region = json.region.toString()
                    def env = json.env.toString()

                    echo "✅ Region: ${region}, Env: ${env}"
                }
            }
        }
    }
}
